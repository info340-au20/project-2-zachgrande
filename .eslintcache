[{"/Users/zachgrande/Code/info340-finalproject/project-2-zachgrande/src/index.js":"1","/Users/zachgrande/Code/info340-finalproject/project-2-zachgrande/src/Track.js":"2","/Users/zachgrande/Code/info340-finalproject/project-2-zachgrande/src/Form.js":"3","/Users/zachgrande/Code/info340-finalproject/project-2-zachgrande/src/App.js":"4","/Users/zachgrande/Code/info340-finalproject/project-2-zachgrande/src/JournalLog.js":"5","/Users/zachgrande/Code/info340-finalproject/project-2-zachgrande/src/Entry.js":"6","/Users/zachgrande/Code/info340-finalproject/project-2-zachgrande/src/AboutEntry.js":"7"},{"size":1892,"mtime":1608061438503,"results":"8","hashOfConfig":"9"},{"size":1433,"mtime":1608093338984,"results":"10","hashOfConfig":"9"},{"size":7040,"mtime":1608176590662,"results":"11","hashOfConfig":"9"},{"size":8792,"mtime":1608177361044,"results":"12","hashOfConfig":"9"},{"size":335,"mtime":1608176745713,"results":"13","hashOfConfig":"9"},{"size":2004,"mtime":1608178640528,"results":"14","hashOfConfig":"9"},{"size":762,"mtime":1608177903906,"results":"15","hashOfConfig":"9"},{"filePath":"16","messages":"17","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"13ftmlp",{"filePath":"18","messages":"19","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"20","messages":"21","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"22"},{"filePath":"23","messages":"24","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"29","messages":"30","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/Users/zachgrande/Code/info340-finalproject/project-2-zachgrande/src/index.js",["31"],"/Users/zachgrande/Code/info340-finalproject/project-2-zachgrande/src/Track.js",[],"/Users/zachgrande/Code/info340-finalproject/project-2-zachgrande/src/Form.js",["32","33"],"import fetchTrack from './Track.js';\n//import MoodSelect from './MoodSelect.js';\nimport { useState } from 'react';\nimport firebase from 'firebase/app';\nimport 'firebase/database';\n// import { Spinner } from 'reactstrap';\n\nfunction Form(prop) {\n  // Establish our variables from the prop\n  const user = prop.currentUser;\n  let entries = prop.entries;\n  // let modifyEntries = prop.modifyEntries;\n  let formValid = prop.formValid;\n\n  let entryObj = {\n    inputTitle: \"\",\n    inputDate: \"\",\n    inputDescription: \"\",\n    inputSong: \"\",\n  }\n  //let hasInput = false\n  let entryFormArray = [\n    {input: entryObj.inputTitle, err: \"\",id:\"inputTitle\", name: \"title\", type: \"text\", label: \"Post Title\", aria: \"Entry Title\", placeholder: \"What do you want to title this post?\"},\n    {input: entryObj.inputDate,  err: \"\", id:\"inputDate\", name: \"date\", type: \"date\", label: \"Day\", aria: \"Date\"},\n    {input: entryObj.inputDescription, err: \"\", id:\"inputDescription\", name: \"description\", type: \"text\", label: \"How was your day?\", aria: \"Day Description\", placeholder: \"mm/dd/yyyy\"},\n    {input: entryObj.inputSong, err: \"\", id:\"inputSong\", name: \"song\",type: \"text\", label: \"Search for Today's Song\", aria: \"Song Search\", placeholder: \"Search\"},\n  ]\n \n  // Base appearance of form without error checks  \n  const [isSubmitted, setIsSubmitted] = useState(false);\n  const [isInvalid, setIsInvalid] = useState(\"\");\n  let errorMessage = \"\";\n\n\n  function MakeForm() {\n    let handleInput = (event) => {\n      const inputValue = event.target.value;\n      const inputName = event.target.id;\n\n      entryObj[inputName] = inputValue;\n        if(!isSubmitted){\n          event.target.classList = \"form-control form-control-lg\";\n          errorMessage = \"\";\n        } \n        if(inputValue !== \"\" && isSubmitted){\n          event.target.classList = \"form-control form-control-lg is-valid\";\n          errorMessage = \"\";\n        } \n        if (inputValue === \"\" && isSubmitted){\n          event.target.classList = \"form-control form-control-lg is-invalid\";\n          errorMessage = \"Please provide a \" + inputName.replace(\"input\", \"\").toLowerCase() + \".\";\n        }\n\n      entryFormArray = [\n        {input: entryObj.inputTitle, id:\"inputTitle\", name: \"title\", type: \"text\", label: \"Post Title\", aria: \"Entry Title\", placeholder: \"What do you want to title this post?\"},\n        {input: entryObj.inputDate,  id:\"inputDate\", name: \"date\", type: \"date\", label: \"Day\", aria: \"Date\"},\n        {input: entryObj.inputDescription, id:\"inputDescription\", name: \"description\", type: \"text\", label: \"How was your day?\", aria: \"Day Description\", placeholder: \"mm/dd/yyyy\"},\n        {input: entryObj.inputSong, id:\"inputSong\", name: \"song\",type: \"text\", label: \"Search for Today's Song\", aria: \"Song Search\", placeholder: \"Search\"},\n      ]\n    }\n    \n    let allForm = entryFormArray.map((obj) => {\n      let textBox = <div></div>;\n      if (obj.id === \"inputDescription\"){\n        if(!isSubmitted) {\n        textBox = (\n          <textarea className=\"form-control form-control-lg\" id={obj.id} rows=\"3\" aria-label={obj.aria} onChange={handleInput}></textarea>\n        )\n        }\n        if(isSubmitted && isInvalid){\n          textBox = (\n          <div>\n            <textarea className=\"form-control form-control-lg is-invalid\" id={obj.id} rows=\"3\" aria-label={obj.aria} onChange={handleInput}></textarea>\n            <div class=\"invalid-feedback\">Please provide a {obj.name}.</div>\n          </div>\n          )\n        } \n        if(isSubmitted && !isInvalid){\n          textBox = (\n            <textarea className=\"form-control form-control-lg is-valid\" id={obj.id} rows=\"3\" aria-label={obj.aria} onChange={handleInput}></textarea>\n          )      \n        }\n      } else {\n        if(!isSubmitted) {\n          textBox = (\n            <input type={obj.type} className=\"form-control form-control-lg\" id={obj.id} aria-label={obj.aria} placeholder={obj.placeholder} onChange={handleInput} />\n          ) \n        }\n        if(isSubmitted && isInvalid){\n          textBox = (\n            <div>\n              <input type={obj.type} className=\"form-control form-control-lg is-invalid\" id={obj.id} aria-label={obj.aria} placeholder={obj.placeholder} onChange={handleInput} />\n              <div class=\"invalid-feedback\">Please provide a {obj.name}.</div>\n            </div>\n          )\n        } \n        if(isSubmitted && !isInvalid){\n          textBox = (\n            <input type={obj.type} className=\"form-control form-control-lg is-valid\" id={obj.id} aria-label={obj.aria} placeholder={obj.placeholder} onChange={handleInput} />\n          )      \n        }\n      }\n      return (\n        <div className=\"form-group\" key={obj}>\n            <label htmlFor={obj.id}>{obj.label}</label>\n            {textBox}\n        </div>\n      )\n    })\n\n    return (\n      <div>\n       {allForm} \n      </div>\n    )\n  }\n  \n  let isDisabled = '';\n  let error = false;\n\n  // When a user submits the form, modify the state\n  let handleSubmit = (event) => {\n    event.preventDefault();\n    setIsSubmitted(true);\n\n    // Error handling\n    entryFormArray.map((obj) => {\n      if(obj.input === '') {\n        formValid(false);\n        setIsInvalid(true);\n      } else {\n        formValid(true);\n        setIsInvalid(false);\n      }\n    })\n\n\n    let newEntriesArray = [];\n\n    // Pre-process our existing entries for the new state\n    if (entries !== []) {\n      newEntriesArray = entries.map((entry) => {\n        return entry;\n      })\n    }\n\n    // Add the final entry to the state and keep the program moving\n    const finalizeUserInput = (searchResults) => {\n      // Extract the fetch data, top result\n      searchResults = searchResults.results[0];\n\n      // Select the song elements to go in the entry\n      let songEntry = [searchResults.artworkUrl100, searchResults.artistName, searchResults.trackName];\n\n      const newEntry = {\n        postTitle: entryObj.inputTitle,\n        date: entryObj.inputDate,\n        dayDescription: entryObj.inputDescription,\n        moodRating: prop.mood,\n        artwork: songEntry[0],\n        artist: songEntry[1],\n        songTitle: songEntry[2],\n        time: firebase.database.ServerValue.TIMESTAMP,\n        user: user.uid\n      }\n\n      // Append an additional entry to the local state\n      newEntriesArray.push(newEntry);\n\n      // ADD A NEW ENTRY TO THE DATABASE\n      // Get a reference to the database child\n      const entryRef = firebase.database().ref('entries'); // change URL to person's user ID\n      entryRef.push(newEntry);\n    }\n\n    // The final step of our form, ensure nothing is computed until fetch completes\n    fetchTrack(entryObj.inputSong, finalizeUserInput);\n\n  }\n\n  return (\n    <section id=\"landingPage\">\n      <form>\n        <MakeForm />\n        <button className={\"btn btn-primary \" + isDisabled} id=\"submit\" onClick={handleSubmit} aria-disabled={error}>Done</button>\n        <div className=\"song-loading-spinner disabled\"></div>\n        <div className=\"errors\"></div>\n      </form>\n    </section>\n  )\n}\n\nexport default Form;\n","/Users/zachgrande/Code/info340-finalproject/project-2-zachgrande/src/App.js",["34","35"],"/Users/zachgrande/Code/info340-finalproject/project-2-zachgrande/src/JournalLog.js",[],"/Users/zachgrande/Code/info340-finalproject/project-2-zachgrande/src/Entry.js",[],"/Users/zachgrande/Code/info340-finalproject/project-2-zachgrande/src/AboutEntry.js",["36","37"],{"ruleId":"38","severity":1,"message":"39","line":19,"column":1,"nodeType":"40","messageId":"41","endLine":19,"endColumn":96},{"ruleId":"42","severity":1,"message":"43","line":51,"column":11,"nodeType":"44","messageId":"45","endLine":51,"endColumn":23},{"ruleId":"46","severity":1,"message":"47","line":127,"column":30,"nodeType":"48","messageId":"49","endLine":127,"endColumn":32},{"ruleId":"42","severity":1,"message":"50","line":83,"column":9,"nodeType":"44","messageId":"45","endLine":83,"endColumn":21},{"ruleId":"51","severity":1,"message":"52","line":165,"column":12,"nodeType":"53","endLine":165,"endColumn":24},{"ruleId":"54","severity":1,"message":"55","line":10,"column":9,"nodeType":"56","messageId":"57","endLine":10,"endColumn":34},{"ruleId":"42","severity":1,"message":"58","line":10,"column":9,"nodeType":"44","messageId":"45","endLine":10,"endColumn":18},"no-lone-blocks","Block is redundant.","BlockStatement","redundantBlock","no-unused-vars","'errorMessage' is assigned a value but never used.","Identifier","unusedVar","array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside","'handleChange' is assigned a value but never used.","jsx-a11y/aria-role","Elements with ARIA roles must use a valid, non-abstract ARIA role.","JSXAttribute","no-cond-assign","Expected a conditional expression and instead saw an assignment.","AssignmentExpression","missing","'timeStamp' is assigned a value but never used."]